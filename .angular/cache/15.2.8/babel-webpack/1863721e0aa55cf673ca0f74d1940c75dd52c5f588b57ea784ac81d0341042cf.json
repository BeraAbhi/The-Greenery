{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet DashboardComponent = class DashboardComponent {\n  constructor(router, registraionservice, httpRequest, render) {\n    this.router = router;\n    this.registraionservice = registraionservice;\n    this.httpRequest = httpRequest;\n    this.render = render;\n    this.noData = 0;\n    this.ABC = '';\n  }\n  ngOnInit() {\n    debugger;\n    if (localStorage.getItem(\"loginData\")?.length === 0 || localStorage.getItem(\"loginData\") === null) {\n      alert('please login to buy a product');\n    }\n    this.noData = localStorage.length;\n    this.httpRequest.searchText.subscribe(res => {\n      this.ABC = res;\n    });\n    if (localStorage.length >= 1) {\n      this.httpRequest.reciveProduct().subscribe(data => {\n        debugger;\n        data.productImage;\n        this.productApiData = data;\n      });\n    }\n    if (localStorage.length >= 1) {\n      this.localstorageLoginData = JSON.parse(localStorage.getItem(\"loginData\") || '');\n    }\n    //   let a:any=[1,5,6,8,8,8,8,4,3,5,2,5,2,7,8,9,9,10,10\n    //   ]\n    //   debugger\n    //   for(let i=0;i<=a.length;i++){\n    //     if(a[i] === a[i+1]){\n    //       a.splice(i, 1);\n    //       if(a[i] === a[i-1]){\n    //         a.splice(i,i-1,1)\n    //       }\n    //     }\n    // }\n    // console.log(a);\n  }\n\n  getProductData() {\n    this.httpRequest.reciveProduct().subscribe(data => {\n      this.productApiData = data;\n    });\n  }\n  onCart(productId) {\n    this.cartArr = {\n      \"productName\": productId.productName,\n      \"productImage\": productId.productImage,\n      \"productPrice\": productId.productPrice,\n      \"productQuantity\": 1,\n      \"userName\": this.localstorageLoginData.firstName\n    };\n    this.httpRequest.getDataFromCart().subscribe(data => {\n      this.cartApiData = data;\n      let userSpecificCartItem = data.filter(data => data.userName === this.localstorageLoginData.firstName);\n      if (data.length !== 0) {\n        let index = this.cartApiData.findIndex(matchItem => matchItem.productName === this.cartArr.productName && matchItem.userName === this.cartArr.userName);\n        if (index !== -1) {\n          this.cartArr['productQuantity'] = this.cartApiData[index].productQuantity + 1;\n          this.httpRequest.updateCartData(index + 1, this.cartArr).subscribe();\n        } else {\n          this.httpRequest.cartCount.next(userSpecificCartItem.length + 1);\n          this.httpRequest.pushInCart(this.cartArr).subscribe();\n        }\n      } else {\n        this.httpRequest.cartCount.next(userSpecificCartItem.length + 1);\n        this.httpRequest.pushInCart(this.cartArr).subscribe();\n      }\n    });\n  }\n  onDeleteProduct(data) {\n    this.httpRequest.deleteProduct(data.id).subscribe();\n    this.getProductData();\n  }\n  onProductEdit(data) {\n    this.router.navigate(['/editProduct', data.id]);\n  }\n  onChangeProductList(val, b) {\n    debugger;\n    if (val === '') {\n      this.httpRequest.reciveProduct().subscribe(res => {\n        this.productApiData = res;\n      });\n    } else {\n      this.httpRequest.reciveProduct().subscribe(res => {\n        this.productApiData = res.filter(res => res.productType === val);\n      });\n    }\n    // b?.classList.add('is-checked')\n  }\n};\n\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})], DashboardComponent);\nexport { DashboardComponent };","map":{"version":3,"mappings":"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","names":["Component","DashboardComponent","constructor","router","registraionservice","httpRequest","render","ngOnInit","localStorage","getItem","length","alert","noData","searchText","subscribe","res","ABC","reciveProduct","data","productImage","productApiData","localstorageLoginData","JSON","parse","getProductData","onCart","productId","cartArr","productName","productPrice","firstName","getDataFromCart","cartApiData","userSpecificCartItem","filter","userName","index","findIndex","matchItem","productQuantity","updateCartData","cartCount","next","pushInCart","onDeleteProduct","deleteProduct","id","onProductEdit","navigate","onChangeProductList","val","b","productType","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\intenship angular js\\theGreenery\\src\\app\\@shared\\component\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { Component, ElementRef, OnInit, Output, Renderer2 } from '@angular/core';\nimport { Route, Router } from '@angular/router';\nimport { findIndex, Subject } from 'rxjs';\nimport { registraionservice } from 'src/app/@auth/services/auth.service';\nimport { httpRequest } from '../../services/httpRequest.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit {\n  productApiData: any;\n  cartArr: any;\n  cartApiData: any;\n  localstorageLoginData: any ;\n  noData:number = 0;\n  ABC=''\n\n  constructor(private router: Router, private registraionservice: registraionservice,\n    private httpRequest: httpRequest,private render:Renderer2) { }\n\n  ngOnInit(): void {\n    debugger\n    if(localStorage.getItem(\"loginData\")?.length === 0 || localStorage.getItem(\"loginData\") === null){\n      alert('please login to buy a product')\n    }\n    this.noData = localStorage.length\n    this.httpRequest.searchText.subscribe(res=>{\n      this.ABC=res\n    })\n    if(localStorage.length>=1){\n    this.httpRequest.reciveProduct().subscribe((data: any) => {\n      debugger\n      data.productImage\n      this.productApiData = data; \n    })\n  }\n    if(localStorage.length >= 1) {\n    this.localstorageLoginData = JSON.parse(localStorage.getItem(\"loginData\") || '');\n    }\n\n\n  //   let a:any=[1,5,6,8,8,8,8,4,3,5,2,5,2,7,8,9,9,10,10\n  //   ]\n  //   debugger\n  //   for(let i=0;i<=a.length;i++){\n  //     if(a[i] === a[i+1]){\n  //       a.splice(i, 1);\n  //       if(a[i] === a[i-1]){\n  //         a.splice(i,i-1,1)\n  //       }\n  //     }\n  // }\n  // console.log(a);\n  \n  }\n\n\n  getProductData() {\n    this.httpRequest.reciveProduct().subscribe((data: any) => {\n      this.productApiData = data\n    })\n  }\n\n  onCart(productId: any) {\n\n    this.cartArr =\n    {\n      \"productName\": productId.productName,\n      \"productImage\": productId.productImage,\n      \"productPrice\": productId.productPrice,\n      \"productQuantity\": 1,\n      \"userName\": this.localstorageLoginData.firstName\n    }\n\n    this.httpRequest.getDataFromCart().subscribe((data: any) => {\n      this.cartApiData = data\n      let userSpecificCartItem=data.filter((data:any)=> data.userName === this.localstorageLoginData.firstName)\n      if (data.length !== 0) {\n        let index = this.cartApiData.findIndex((matchItem: any) => matchItem.productName === this.cartArr.productName && matchItem.userName === this.cartArr.userName)\n        if (index !== -1) {\n          this.cartArr['productQuantity'] = this.cartApiData[index].productQuantity + 1;\n          this.httpRequest.updateCartData(index + 1, this.cartArr).subscribe()\n        }\n        else {\n          this.httpRequest.cartCount.next(userSpecificCartItem.length + 1)\n          this.httpRequest.pushInCart(this.cartArr).subscribe();\n        }\n      }\n      else {\n        this.httpRequest.cartCount.next(userSpecificCartItem.length + 1)\n        this.httpRequest.pushInCart(this.cartArr).subscribe();\n      }\n    })\n  }\n\n  onDeleteProduct(data: any) {\n    this.httpRequest.deleteProduct(data.id).subscribe();\n    this.getProductData()\n  }\n  onProductEdit(data: any) {\n    this.router.navigate(['/editProduct', data.id])\n  }\n\n  onChangeProductList(val:string,b?:HTMLElement){\n    debugger\n    if(val===''){\n      this.httpRequest.reciveProduct().subscribe(res=>{\n        this.productApiData=res\n      })\n    }else{\n    this.httpRequest.reciveProduct().subscribe((res:any)=>{\n      this.productApiData = res.filter((res:any) => res.productType === val)\n    })\n  }\n    // b?.classList.add('is-checked')\n  }\n\n \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}